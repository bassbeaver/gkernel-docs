
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Services and DI container - Gkernel framework</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#factory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Gkernel framework" class="md-header__button md-logo" aria-label="Gkernel framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Gkernel framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Services and DI container
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/bassbeaver/gkernel/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../1_main-concepts/" class="md-tabs__link md-tabs__link--active">
        v0.4
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../v1/1_main-concepts/" class="md-tabs__link">
        v1
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Gkernel framework" class="md-nav__button md-logo" aria-label="Gkernel framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Gkernel framework
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bassbeaver/gkernel/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        v0.4
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="v0.4" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          v0.4
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../1_main-concepts/" class="md-nav__link">
        Main concepts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../2_configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Services and DI container
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Services and DI container
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#factory" class="md-nav__link">
    Factory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-usage-service-registration-and-service-obtainment" class="md-nav__link">
    Container usage. Service registration and service obtainment
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../4_request_and_response/" class="md-nav__link">
        Request and Response
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../5_routing_and_controllers/" class="md-nav__link">
        Routing and Controllers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../6_events_and_listeners/" class="md-nav__link">
        Events and Listeners
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        v1
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="v1" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          v1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/1_main-concepts/" class="md-nav__link">
        Main concepts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/2_configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/3_services_and_di_container/" class="md-nav__link">
        Services and DI container
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/4_events_and_listeners/" class="md-nav__link">
        Events and Listeners
      </a>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      <label class="md-nav__link" for="__nav_3_5">
        Web
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Web" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/5-1_web_request_lifecycle/" class="md-nav__link">
        Request lifecycle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/5-2_web_request_and_response/" class="md-nav__link">
        Request and Response
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/5-3_web_routing_and_controllers/" class="md-nav__link">
        Routing and Controllers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/5-4_web_events_and_listeners/" class="md-nav__link">
        Events and Listeners
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" type="checkbox" id="__nav_3_6" >
      
      <label class="md-nav__link" for="__nav_3_6">
        CLI
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CLI" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/6-1_cli_command_lifecycle/" class="md-nav__link">
        Command lifecycle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/6-2_cli_command_and_controller/" class="md-nav__link">
        Command and Controllers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../v1/6-3_cli_events_and_listeners/" class="md-nav__link">
        Events and Listeners
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#factory" class="md-nav__link">
    Factory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-usage-service-registration-and-service-obtainment" class="md-nav__link">
    Container usage. Service registration and service obtainment
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bassbeaver/gkernel/edit/master/docs/v0.4/3_services_and_di_container.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Services and DI container</h1>
                
                <p>Gkernel uses <a href="https://github.com/bassbeaver/gioc">bassbeaver/gioc</a> as DI container. 
DI container is used to create entities during application run.
Let's call that entities as <strong>Service</strong>. </p>
<p>To create some Service you have to know what dependencies that service has, and how to build that new Service.
<em>"Dependency"</em> - is some object (scalar value, pointer to other service etc.) that is required for Service to operate.
<em>"How to build"</em> - is set of operations needed to create and configure Service.</p>
<p>It's good approach to encapsulate knowledge <em>"how to build"</em> in object called <strong>Factory</strong> 
(for more information see <a href="https://en.wikipedia.org/wiki/Factory_method_pattern">Factory pattern</a>). </p>
<h4 id="factory">Factory</h4>
<p>With <a href="https://github.com/bassbeaver/gioc">bassbeaver/gioc</a> Factory can be one of:</p>
<ol>
<li>Function. This function must return only one parameter and this parameter must be a pointer to new Service instance.</li>
<li>Factory struct from <code>bassbeaver/gioc</code> package.
Factory struct has next definition: </li>
</ol>
<pre><code class="language-go">type Factory struct {
    Arguments []string
    Create    interface{}
}
</code></pre>
<p>Where :</p>
<ul>
<li><code>Create</code> must be a function which knows how to create service (requirements to this function are same as for function from p.1).</li>
<li><code>Arguments</code> is an array of definitions for <code>Create</code> function arguments. N-th element of <code>Arguments</code> array is for N-th argument of <code>Create</code> function.</li>
</ul>
<p>But with Gkernel Container usage is simplified - Gkernel provides method: </p>
<pre><code class="language-go">func (k *Kernel) RegisterService(alias string, factoryMethod interface{}, enableCaching bool) error
</code></pre>
<p>Where:</p>
<ol>
<li><code>alias</code> - Service alias (must correspond to Service alias from Config's <code>services</code> block)</li>
<li><code>factoryMethod</code> - function, which knows <em>how to create</em> Service. </li>
<li><code>enableCaching</code> - flag signaling the Container if container have to create this Service once and save pointer to it in cache,
and for next requests for this Service just get it from cache, or Container have to honestly create new instance of service for each request. </li>
</ol>
<p><code>factoryMethod</code> can have arguments, required for Service building. Gkernel reads description of that arguments from Config file
from <code>arguments</code> key of Service definition.</p>
<p>Each argument definition is a string and is interpreted in next ways:</p>
<ul>
<li>If first symbol of this string is <code>@</code> - this definition is interpreted as service alias, so Container will
try to find service with that alias.</li>
<li>If first symbol of this string is <code>#</code> - this definition is interpreted as parameter name, so Container will
  try to find value of that parameter in Container's parameters bag.</li>
<li>In other cases definition string is interpreted as value for corresponding argument of <code>Create</code> function.</li>
</ul>
<p>Container tries to cast value of each <code>argument</code> to required type, if cast failed - Container panics.</p>
<p>For this moment Gkernel can not perform Service registration by himself (because it <a href="http://memesmix.net/media/created/s3uwfl.jpg">has paws</a>) 
and you have to call <code>RegisterService</code> manually, during application startup.</p>
<h4 id="container-usage-service-registration-and-service-obtainment">Container usage. Service registration and service obtainment</h4>
<p>Simple example of Container usage.</p>
<p>At first let's describe Services in Config file: </p>
<pre><code class="language-yaml">...
services:

  UserProvider:
    arguments: []

  AuthService:
    arguments: [&quot;@UserProvider&quot;, &quot;/login&quot;, &quot;/&quot;]
</code></pre>
<p>Next, let's write Service and Service Factory code: </p>
<pre><code class="language-go">import (
    &quot;fmt&quot;
    &quot;github.com/bassbeaver/gkernel&quot;
    &quot;gkernel-skeleton/service/auth&quot;
)


const (
    UserProviderMiddlewareServiceAlias = &quot;UserProvider&quot;
    AuthServiceAlias = &quot;AuthService&quot;
)


type UserProvider struct {
    // UserProvider knows how to get users data from storage, but we will omit that functionality here
}

func newUserProvider() *UserProvider {
    return &amp;UserProvider{}
}

func RegisterUserProvider(kernelObj *gkernel.Kernel) {
    err := kernelObj.RegisterService(UserProviderMiddlewareServiceAlias, newUserProvider, true)
    if nil != err {
        panic(fmt.Sprintf(&quot;failed to register %s service, error: %s&quot;, UserProviderMiddlewareServiceAlias, err.Error()))
    }
}


type AuthService struct {
    userProvider *UserProvider
    loginPageUrl string
    fallbackUrl  string
}

func newAuthService(userLoader *UserProvider, loginPageUrl, fallbackUrl string) *AuthService {
    return &amp;Service{
        userProvider: userLoader,
        loginPageUrl: loginPageUrl,
        fallbackUrl:  fallbackUrl,
    }
}

func RegisterAuthService(kernelObj *gkernel.Kernel) {
    err := kernelObj.RegisterService(AuthServiceAlias, newAuthService, true)
    if nil != err {
        panic(fmt.Sprintf(&quot;failed to register %s service, error: %s&quot;, AuthServiceAlias, err.Error()))
    }
}
</code></pre>
<p>Finally, lets register Services in Container:</p>
<pre><code class="language-go">
kernelObj, kernelError := gkernel.NewKernel(&quot;/path/to/config&quot;)
if nil != kernelError {
    panic(kernelError)
}

RegisterAuthService(kernelObj)
RegisterUserProvider(kernelObj)
</code></pre>
<p>After that, Container can create Services (on demand) and inside of created <code>AuthService</code> already created <code>UserProvider</code> will be available.</p>
<p>You can ask me <em>"and what about Service obtainment?"</em>. In real application most part of time you will be working with
Controllers and Event Listeners and both of them should be registered in Container as Services (if you want have good application architecture)
and in that case you do not need explicit Service obtainment, Gkernel and Container will do it for you.</p>
<p>But, if for some reason you really want to get some Service explicitly, you can use: </p>
<pre><code class="language-go">kernelObj.GetContainer().GetByAlias(&quot;service_alias&quot;)
</code></pre>
<p><strong>Note:</strong> in our example we called <code>RegisterAuthService</code> before <code>RegisterUserProvider</code> and you can ask: 
<em>"Why before? AuthService is dependent from UserProvider, that code will fail."</em>. </p>
<p>Answer is: you can register services in any order
because no services are created during registration process. Services are created by Container only when they are really needed.</p>
<p>For more examples you can see <a href="https://github.com/bassbeaver/gkernel-skeleton/blob/master/main.go#L63">Gkernel skeleton application</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../2_configuration/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Configuration
            </div>
          </div>
        </a>
      
      
        <a href="../4_request_and_response/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Request and Response
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>